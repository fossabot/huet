{"version":3,"sources":["demo/pages/ColorContrast.js"],"names":["sharedDoubleFractionSteps","doubleSteps","stepSizes","increment20","graySteps","_","range","colorSteps","doubleFraction","concat","double","increment10","useColoredRampKeys","theme","useContext","ThemeContext","Object","keys","ramps","filter","rampKey","config","mode","ColorContrast","BackgroundContext","_useBrowserState","useBrowserState","_useBrowserState2","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","stepKey","setStepKey","_useBrowserState3","_useBrowserState4","setRampKey","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","className","_huet__WEBPACK_IMPORTED_MODULE_5__","as","contrast","style","__","f2","pb2","bb","mv0","mb2","name","_private_Select__WEBPACK_IMPORTED_MODULE_7__","label","value","onChange","RampPicker","onRampKeyChange","Theme","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","bgRamp","base","Matrix","NamedColors","FormExample","React","memo","_ref","_$partition","partition","key","_$partition2","direct","indirect","map","grayStep","bg","ma0","String","padStart","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","ramp","text","textRamp","colorStep","toString","backgroundColor","startSignalLightness","endSignalLightness","Fragment","rampKeys","flex","flex_row","overflow","pa3","fontSize","di","db","mb1","mt2","readOnly","ba","br2","pa2","width","f7","mt1","tc","w100","fontFamily","maxWidth","Bullet","_ref2","onClick","Color","lab"],"mappings":"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","file":"static/js/7.b038ef9e.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\nimport _ from \"lodash\";\nimport {\n  Color,\n  ThemeContext,\n  BackgroundContext,\n  Contrast,\n  Block,\n  Theme\n} from \"../../huet\";\nimport useBrowserState from \"../../private/useBrowserState\";\nimport Select from \"../../private/Select\";\nimport __ from \"../../private/atoms\";\n\nconst sharedDoubleFractionSteps = [100 / 16, 100 / 8, 100 / 4, 100 / 2];\nconst doubleSteps = [0, 4, 8, 16, 32, 64, 100];\n\nconst stepSizes = {\n  increment20: {\n    graySteps: _.range(0, 120, 20),\n    colorSteps: _.range(0, 120, 20)\n  },\n  doubleFraction: {\n    graySteps: [\n      0,\n      ...sharedDoubleFractionSteps,\n      100 - 100 / 4,\n      100 - 100 / 8,\n      100 - 100 / 16,\n      100\n    ],\n    colorSteps: [0, ...sharedDoubleFractionSteps, 100]\n  },\n  double: {\n    graySteps: doubleSteps,\n    colorSteps: doubleSteps\n  },\n  increment10: {\n    graySteps: _.range(0, 110, 10),\n    colorSteps: _.range(0, 110, 10)\n  }\n};\n\nfunction useColoredRampKeys() {\n  const theme = useContext(ThemeContext);\n  return Object.keys(theme.ramps).filter(\n    rampKey => theme.ramps[rampKey].config.mode === \"colored\"\n  );\n}\n\nexport default function ColorContrast() {\n  const parentBg = useContext(BackgroundContext);\n  const theme = parentBg.theme;\n  const [stepKey, setStepKey] = useBrowserState(\"increment20\");\n  const [rampKey, setRampKey] = useBrowserState(\"gray\");\n\n  return (\n    <div>\n      <div className=\"pa2\">\n        <Block as=\"h1\" contrast=\"b=25\" style={__.f2.pb2.bb.mv0.mb2}>\n          {theme.name}\n        </Block>\n        <Select label=\"Step sizes\" value={stepKey} onChange={setStepKey}>\n          <option value=\"increment20\">20, 40, 80, ...</option>\n          <option value=\"doubleFraction\">100/16, 100/8, 100/4...</option>\n          <option value=\"double\">0, 4, 8, ..., 92, 96, 100</option>\n          <option value=\"increment10\">10, 20, 30, ...</option>\n        </Select>\n        <div className=\"flex flex-column mt2\">\n          Background ramp\n          <RampPicker rampKey={rampKey} onRampKeyChange={setRampKey} />\n        </div>\n      </div>\n      <Block\n        theme={new Theme({ ...theme.config, bgRamp: rampKey })}\n        base={rampKey === \"none\" ? \"gray\" : rampKey}\n        contrast=\"bg=0\"\n      >\n        <Matrix {...stepSizes[stepKey]} />\n        <NamedColors />\n        <FormExample />\n      </Block>\n    </div>\n  );\n}\n\nconst Matrix = React.memo(({ colorSteps, graySteps }) => {\n  const theme = useContext(ThemeContext);\n  const [direct, indirect] = _.partition(\n    Object.keys(theme.ramps),\n    key => theme.ramps[key].config.mode === \"direct\"\n  );\n\n  return (\n    <div>\n      {graySteps.map(grayStep => (\n        <Contrast\n          key={grayStep}\n          bg={grayStep}\n          className=\"pa2 flex items-center\"\n        >\n          <pre style={__.ma0}>{String(grayStep).padStart(5, \" \")}</pre>\n          <div className=\"flex flex-wrap\">\n            {[...indirect, ...direct].map(ramp => (\n              <div key={ramp} className=\"flex mt1 mr2\">\n                {theme.ramps[ramp].config.mode === \"direct\" ? (\n                  <Contrast\n                    bg={0}\n                    bgRamp={ramp}\n                    text={0}\n                    textRamp={ramp}\n                    className=\"pa1\"\n                  >\n                    Direct\n                  </Contrast>\n                ) : (\n                  colorSteps.map(colorStep => (\n                    <Contrast\n                      key={colorStep}\n                      bg={colorStep}\n                      bgRamp={ramp}\n                      text={colorStep}\n                      textRamp={ramp}\n                      className=\"pa1\"\n                    >\n                      {colorStep.toString()}\n                    </Contrast>\n                  ))\n                )}\n                <div className=\"flex flex-column\">\n                  <div\n                    className=\"w1 h-100\"\n                    style={{\n                      backgroundColor: theme.ramps[ramp](\n                        theme.startSignalLightness\n                      )\n                    }}\n                  />\n                  <div\n                    className=\"w1 h-100\"\n                    style={{\n                      backgroundColor: theme.ramps[ramp](\n                        theme.endSignalLightness\n                      )\n                    }}\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n        </Contrast>\n      ))}\n    </div>\n  );\n});\n\nfunction NamedColors() {\n  const theme = useContext(ThemeContext);\n  return (\n    <>\n      {[100, 50, 25, 12.5, 6.25].map(bg => (\n        <div key={bg} className=\"flex\">\n          {Object.keys(theme.ramps).map(key => (\n            <Contrast\n              key={key}\n              className=\"pa1 tc w-100 f4\"\n              bg={bg}\n              bgRamp={key}\n              textRamp=\"white\"\n            >\n              {key}\n            </Contrast>\n          ))}\n        </div>\n      ))}\n    </>\n  );\n}\n\nfunction FormExample() {\n  const rampKeys = useColoredRampKeys();\n  return (\n    <div>\n      <div style={{ ...__.flex.flex_row, overflow: \"scroll\" }}>\n        {[0, 49, 51, 100].map(bg => (\n          <Block key={bg} contrast={`bg=${bg}`}>\n            <div style={__.pa3}>\n              {rampKeys.map(rampKey => (\n                <div key={rampKey}>\n                  {[1, 2, 3, 4, 5, 6, 7].map(fontSize => (\n                    <Block\n                      key={fontSize}\n                      contrast={`fg=${rampKey}`}\n                      style={__.di[\"f\" + fontSize]}\n                    >\n                      Lig\n                    </Block>\n                  ))}\n                </div>\n              ))}\n              {rampKeys.map(rampKey => (\n                <div key={rampKey}>\n                  <Block as=\"label\" style={__.db.mb1.mt2}>\n                    Name\n                  </Block>\n                  <Block\n                    as=\"input\"\n                    contrast=\"b=100 fg=100\"\n                    value=\"Some text\"\n                    readOnly\n                    base={rampKey}\n                    style={{\n                      ...__.ba.br2.pa2,\n                      backgroundColor: \"transparent\",\n                      width: \"20em\"\n                    }}\n                  />\n                  <Block base={rampKey} style={__.f7.mt1}>\n                    This is a message about the field above\n                  </Block>\n                </div>\n              ))}\n              {rampKeys.map(rampKey => (\n                <Block\n                  key={rampKey}\n                  as=\"button\"\n                  contrast=\"bg=12 fg=100 b=100\"\n                  base={rampKey}\n                  style={{\n                    ...__.pa2.tc.w100.br2.mt2.ba.db,\n                    fontSize: \"inherit\",\n                    fontFamily: \"inherit\",\n                    maxWidth: \"20em\"\n                  }}\n                >\n                  Submit\n                </Block>\n              ))}\n            </div>\n          </Block>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction Bullet() {\n  return <Block contrast=\"bg=100\" className=\"w1 h1 br-100\" />;\n}\n\nfunction RampPicker({ rampKey, onRampKeyChange }) {\n  const theme = useContext(ThemeContext);\n  const rampKeys = useColoredRampKeys();\n  return (\n    <div className=\"flex mt1\">\n      {rampKeys.map(key => (\n        <Block\n          as=\"button\"\n          contrast=\"b=20\"\n          key={key}\n          className=\"w2 h2 ba ml1\"\n          onClick={() => onRampKeyChange(key)}\n          style={{\n            // TODO: either don't use the style BG color for calculations in <Bullet> or somehow wrap\n            // normal HEX colors within <Block> so we can do calculations\n            backgroundColor: new Color({\n              theme,\n              lab: theme.ramps[key](0.5)\n            })\n          }}\n        >\n          {key === rampKey && <Bullet />}\n        </Block>\n      ))}\n    </div>\n  );\n}\n"],"sourceRoot":""}